(function(e){e(function(){e("input[type=tel]").click(function(){e(this).select()});var t=e("#swim"),n=e("#bike"),r=e("#run"),i="swim";e(window).hashchange(function(){var t=location.hash;t==="#swim"?i="swim":t==="#bike"?i="bike":t==="#run"&&(i="run");e("#tabs").find("a").each(function(){e(this).removeClass("selected");e("a#"+i+"Tab").addClass("selected")});e("section.tab").addClass("hide");e("section#"+i).removeClass("hide")});e(window).hashchange();e.fn.enableInput=function(){return this.each(function(){var t=e(this);t.siblings("input").prop("disabled",!1)})};e.fn.disableInput=function(){return this.each(function(){var t=e(this);t.siblings("input").prop("disabled",!0)})};e.fn.addDisable=function(){return this.each(function(){var t=e(this);t.addClass("disabled");t.find("input").prop("disabled",!0)})};e.fn.removeDisable=function(){return this.each(function(){var t=e(this);t.removeClass("disabled");t.find("input").prop("disabled",!1)})};var s=!1;e(".units").change(function(){if(i==="swim")t.find(".speedText").text("/100 "+t.find(".units").val());else if(i==="bike")n.find(".units").val()==="Kilometers"?n.find(".speedText").text("kph"):n.find(".speedText").text("mph");else if(i==="run"){if(r.find(".units").val()==="Kilometers"||r.find(".units").val()==="Miles"){e(this).enableInput();e(this).parent().removeClass("ready");s=!1}else{e(this).disableInput();e(this).siblings("input").val("");e(this).parent().addClass("ready")}if(r.find(".units").val()==="Kilometers")r.find(".speedText").text("Min/Kilometer");else{r.find(".speedText").text("Min/Mile");r.find(".units").val()==="5K"?s=3.1:r.find(".units").val()==="10K"?s=6.2:r.find(".units").val()==="Half Marathon"?s=13.1:r.find(".units").val()==="Marathon"&&(s=26.2)}}});e("input").keyup(function(){$inputs=e(this);$inputs=e(this).add(e(this).siblings("input"));$parent=$inputs.parent();$inputs.val()!==""&&$inputs.val()>0?$parent.addClass("ready"):$parent.removeClass("ready");$paceRow=e("#"+i).find(".pace-section");$timeRow=e("#"+i).find(".time-section");$distanceRow=e("#"+i).find(".distance-section");$paceRow.removeDisable();$timeRow.removeDisable();$distanceRow.removeDisable();$paceRow.hasClass("ready")&&$timeRow.hasClass("ready")?$distanceRow.addDisable():$paceRow.hasClass("ready")&&$distanceRow.hasClass("ready")?$timeRow.addDisable():$timeRow.hasClass("ready")&&$distanceRow.hasClass("ready")&&$paceRow.addDisable()});e(".clearRow").click(function(){e(this).siblings().val("");e(this).siblings("input:eq(0)").keyup()});e(".calculate").click(function(){var t=e("#"+i).find(".hours").val(),n=e("#"+i).find(".minutes").val(),r=e("#"+i).find(".seconds").val();if(i==="run"&&s!==!1)var o=s;else var o=parseFloat(e("#"+i).find(".distance").val()===""?0:e("#"+i).find(".distance").val());console.log(o);if(i==="swim"||i==="run")var u=parseInt(e("#"+i).find(".paceMinutes").val()===""?0:e("#"+i).find(".paceMinutes").val()),a=parseInt(e("#"+i).find(".paceSeconds").val()===""?0:e("#"+i).find(".paceSeconds").val()),f=u*60+a;else if(i==="bike")var l=parseInt(e("#"+i).find(".pace").val()===""?0:e("#"+i).find(".pace").val());if(t===""&&n===""&&r===""){if(o>0&&l>0||f>0){i==="swim"?timeInSeconds=f*o/100:i==="bike"?timeInSeconds=o/l*3600:timeInSeconds=f*o;t=Math.floor(timeInSeconds/3600);n=Math.floor((timeInSeconds-t*3600)/60);r=Math.floor(timeInSeconds-t*3600-n*60);e("#"+i).find(".hours").val(t);e("#"+i).find(".minutes").val(n);e("#"+i).find(".seconds").val(r)}}else if(!o){t=parseInt(t===""?0:t);n=parseInt(n===""?0:n);r=parseInt(r===""?0:r);timeInSeconds=t*3600+n*60+r;if(timeInSeconds>0&&(l>0||f>0)){if(i==="swim"||i==="run"){f=u*60+a;timeInSeconds=t*3600+n*60+r;i==="swim"?o=(timeInSeconds*100/f).toFixed(2):o=(timeInSeconds/f).toFixed(2)}else i==="bike"&&(o=(l*(timeInSeconds/3600)).toFixed(2));e("#"+i).find(".distance").val(o)}}else if(!l){t=parseInt(t===""?0:t);n=parseInt(n===""?0:n);r=parseInt(r===""?0:r);timeInSeconds=t*3600+n*60+r;if(timeInSeconds>0&&o>0)if(i==="swim"||i==="run"){i==="swim"?f=timeInSeconds*100/o:f=timeInSeconds/o;u=Math.floor(f/60);a=Math.round(f%60);e("#"+i).find(".paceMinutes").val(u);e("#"+i).find(".paceSeconds").val(a)}else if(i==="bike"){l=(o/(timeInSeconds/3600)).toFixed(2);e("#"+i).find(".pace").val(l)}}})})})(jQuery);
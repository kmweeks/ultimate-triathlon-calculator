(function(e){e(function(){e("input[type=tel]").click(function(){e(this).select()});var t="set",n=e("#swim"),r=e("#bike"),i=e("#run"),s="swim";e(window).hashchange(function(){var n=location.hash;n==="#swim"?s="swim":n==="#bike"?s="bike":n==="#run"&&(s="run");e("#tabs").find("a").each(function(){e(this).removeClass("selected");e("a#"+s+"Tab").addClass("selected")});e("section.tab").addClass("hide");e("section#"+s).removeClass("hide");t="set"});e(window).hashchange();e.fn.enableInput=function(){return this.each(function(){var t=e(this);t.siblings("input").prop("disabled",!1)})};e.fn.disableInput=function(){return this.each(function(){var t=e(this);t.siblings("input").prop("disabled",!0)})};e.fn.addDisable=function(){return this.each(function(){var t=e(this);t.addClass("disabled");t.find("input").prop("disabled",!0)})};e.fn.removeDisable=function(){return this.each(function(){var t=e(this);t.removeClass("disabled");t.find("input").prop("disabled",!1)})};var o=!1;e(".units").change(function(){s==="swim"?n.find(".speedText").text("/100 "+n.find(".units").val()):s==="bike"?r.find(".units").val()==="Kilometers"?r.find(".speedText").text("kph"):r.find(".speedText").text("mph"):s==="run"&&(i.find(".units").val()==="Kilometers"?i.find(".speedText").text("Min/Kilometer"):i.find(".speedText").text("Min/Mile"))});e("input").keyup(function(){$inputs=e(this);$inputs=e(this).add(e(this).siblings("input"));e(this).parent(".row").removeClass("ready");$inputs.each(function(){if(e(this).val()!==""&&e(this).val()>0){e(this).parent(".row").addClass("ready");return}});$paceRow=e("#"+s).find(".pace-section");$timeRow=e("#"+s).find(".time-section");$distanceRow=e("#"+s).find(".distance-section");$paceRow.removeDisable();$timeRow.removeDisable();$distanceRow.removeDisable();$paceRow.hasClass("ready")&&$timeRow.hasClass("ready")?$distanceRow.addDisable():$paceRow.hasClass("ready")&&$distanceRow.hasClass("ready")?$timeRow.addDisable():$timeRow.hasClass("ready")&&$distanceRow.hasClass("ready")&&$paceRow.addDisable()});e(".clearRow").click(function(){e(this).siblings().val("");e(this).siblings("select").change();e(this).siblings("input:eq(0)").keyup();t="set"});e(".calculate").click(function(){var n=e("#"+s).find(".hours").val(),r=e("#"+s).find(".minutes").val(),i=e("#"+s).find(".seconds").val();if(s==="run"&&o>0)var u=o;else var u=parseFloat(e("#"+s).find(".distance").val()===""?0:e("#"+s).find(".distance").val());if(s==="swim"||s==="run")var a=parseInt(e("#"+s).find(".paceMinutes").val()===""?0:e("#"+s).find(".paceMinutes").val()),f=parseInt(e("#"+s).find(".paceSeconds").val()===""?0:e("#"+s).find(".paceSeconds").val()),l=a*60+f;else if(s==="bike")var c=parseInt(e("#"+s).find(".pace").val()===""?0:e("#"+s).find(".pace").val());if(t==="time"||n===""&&r===""&&i===""){if(u>0&&c>0||l>0){s==="swim"?timeInSeconds=l*u/100:s==="bike"?timeInSeconds=u/c*3600:timeInSeconds=l*u;n=Math.floor(timeInSeconds/3600);r=Math.floor((timeInSeconds-n*3600)/60);i=Math.floor(timeInSeconds-n*3600-r*60);e("#"+s).find(".hours").val(n);e("#"+s).find(".minutes").val(r);e("#"+s).find(".seconds").val(i);t="time"}}else if(t==="distance"||!u){n=parseInt(n===""?0:n);r=parseInt(r===""?0:r);i=parseInt(i===""?0:i);timeInSeconds=n*3600+r*60+i;if(timeInSeconds>0&&(c>0||l>0)){if(s==="swim"||s==="run"){l=a*60+f;timeInSeconds=n*3600+r*60+i;s==="swim"?u=(timeInSeconds*100/l).toFixed(2):u=(timeInSeconds/l).toFixed(2)}else s==="bike"&&(u=(c*(timeInSeconds/3600)).toFixed(2));e("#"+s).find(".distance").val(u);t="distance"}}else if(t==="pace"||!c){n=parseInt(n===""?0:n);r=parseInt(r===""?0:r);i=parseInt(i===""?0:i);timeInSeconds=n*3600+r*60+i;if(timeInSeconds>0&&u>0){if(s==="swim"||s==="run"){s==="swim"?l=timeInSeconds*100/u:l=timeInSeconds/u;a=Math.floor(l/60);f=Math.round(l%60);e("#"+s).find(".paceMinutes").val(a);e("#"+s).find(".paceSeconds").val(f)}else if(s==="bike"){c=(u/(timeInSeconds/3600)).toFixed(2);e("#"+s).find(".pace").val(c)}t="pace"}}})})})(jQuery);